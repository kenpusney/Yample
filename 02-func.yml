---
- hello:
  - function: []
  - print: hello world!

- call: hello

- howdy:
  - function: [person]
  - print: hello $person!

- howdy: world

- fact:
  - function: [num]
  - if: $num > 0
    then: { $num *: {fact: $num - 1} }
    else if: 1

- fact: 10

- fib:
  - function: [n, x, y]
    defaults: {x: 0, y: 1}
  - if: $n = 0
    then: $x
    else: {fib: [$n - 1, $y, $x + $y]}

- fib: 10

- sum:
  - function: [{xs: [int]}]
    returns: int
  - if: $xs.length = 0
    then: 0
    else: {$xs.first +: {sum: $xs.rest}}

- sum: [1, 2, 3, 4, 5]